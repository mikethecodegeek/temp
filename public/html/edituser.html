<div class="container">
  <div class="row actionCallRow bottom" id="updateUsersHeader">
      <h2>User Details:</h2>

  </div>

  <form name="editUserForm" ng-submit="updateUser()">
    <div class="row userDetails">
        <div class="col-sm-2"></div>
        <div class="col-sm-5 topMargin">
            <p>Name: </br><input id="newname" type="text" value={{userToEdit.name}} required /></p>
            <p>Email: </br><input id="newemail" type="email" value={{userToEdit.email}} required /></p>
            <p>Phone: </br><input id="newphone" type="tel" value={{userToEdit.phone}} required /></p>
        </div>
        <div class="col-sm-5 topMargin">
            <p>Address: </br><input id="newaddress" type="text" value={{userToEdit.defaultaddress.address}} required /></p>
            <p>City: </br><input id="newcity" type="text" value={{userToEdit.defaultaddress.city}} required /></p>
            <p>State: </br><input id="newstate" type="text" value={{userToEdit.defaultaddress.state}} required /></p>
            <p>Zip: </br><input id="newzip" type="text" value={{userToEdit.defaultaddress.zip}} required /></p>
            <input class="btn btn-success topMargin" type="submit" value="Submit"/>
            <button ui-sref="users" class="btn btn-primary topMargin">Back to Users</button>
        </div>

    </div>

  </form>

  <div class="row">
      <h2 class="topMargin">User Stats:</h2>
      <p># of Transactions: {{userToEdit.transactions.length}}</p>

      <table class="table">
          <tr>
              <th>Quote #</th>
              <th>Date of quote</th>
              <th>Device</th>
              <th>Condition</th>
              <th>Quote</th>
              <th>Payment Method</th>
              <th>Status</th>
          </tr>
          <tr ng-repeat = 'transaction in userToEdit.transactions'>
              <td>{{transaction._id.slice(15)}}</td>
              <td>{{transaction.date | date : format : short}}</td>
              <td>{{transaction.device}}</td>
              <td>{{transaction.condition}}</td>
              <td>{{transaction.amount | currency}}</td>
              <td>{{transaction.paymentmethod }}</td>
              <td>{{transaction.status}}</td>
              <td><button class="btn btn-warning" ui-sref="editorder({orderid: transaction._id})">Edit</button></td>
          </tr>
      </table>
  </div>

</div>
